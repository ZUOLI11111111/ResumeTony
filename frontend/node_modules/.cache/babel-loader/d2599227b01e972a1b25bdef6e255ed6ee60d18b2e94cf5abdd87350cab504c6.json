{"ast":null,"code":"var _jsxFileName = \"/home/m/resume_revision/frontend/src/components/ResumeReviewHistory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './ResumeReviewHistory.css';\nimport axios from 'axios';\nimport ErrorBoundary from '../ErrorBoundary';\n\n// 创建支持大数据的axios实例\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  timeout: 30000,\n  // 增加超时时间到30秒\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  },\n  maxContentLength: Infinity,\n  // 允许无限大小的内容\n  maxBodyLength: Infinity // 允许无限大小的请求体\n});\nfunction ResumeReviewHistoryContent({\n  onBack\n}) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [resumeHistory, setResumeHistory] = useState([]);\n  const [filteredHistory, setFilteredHistory] = useState([]);\n  const [selectedResume, setSelectedResume] = useState(null);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [confirmDelete, setConfirmDelete] = useState(null); // 存储要删除的ID\n  const [currentPage, setCurrentPage] = useState(0); // 添加当前页码状态\n  const [totalPages, setTotalPages] = useState(1); // 添加总页数状态\n  const [totalRecords, setTotalRecords] = useState(0); // 添加总记录数状态\n\n  // 全局错误处理\n  useEffect(() => {\n    const handleError = event => {\n      console.error('全局错误捕获:', event.error);\n      setError('应用发生错误，请刷新页面重试');\n    };\n    window.addEventListener('error', handleError);\n    return () => {\n      window.removeEventListener('error', handleError);\n    };\n  }, []);\n\n  // 获取简历修改历史\n  useEffect(() => {\n    try {\n      fetchResumeHistory();\n    } catch (error) {\n      console.error('获取历史记录失败:', error);\n      setError('无法加载历史记录，请检查后端服务是否正常运行');\n      setLoading(false);\n    }\n  }, []);\n\n  // 筛选历史记录\n  useEffect(() => {\n    // 没有搜索词时，显示当前页的所有记录\n    if (!searchTerm.trim()) {\n      const size = 10;\n      const startIndex = currentPage * size;\n      const endIndex = Math.min(startIndex + size, resumeHistory.length);\n      setFilteredHistory(resumeHistory.slice(startIndex, endIndex));\n      return;\n    }\n\n    // 有搜索词时，在所有记录中搜索，并显示第一页搜索结果\n    const filtered = resumeHistory.filter(resume => {\n      const descMatch = resume.modificationDescription && resume.modificationDescription.toLowerCase().includes(searchTerm.toLowerCase());\n      const origMatch = resume.originalContent && resume.originalContent.toLowerCase().includes(searchTerm.toLowerCase());\n      const modMatch = resume.modifiedContent && resume.modifiedContent.toLowerCase().includes(searchTerm.toLowerCase());\n      return descMatch || origMatch || modMatch;\n    });\n\n    // 在搜索结果中显示第一页\n    const size = 10;\n    const startIndex = 0; // 搜索时始终显示第一页\n    const endIndex = Math.min(startIndex + size, filtered.length);\n\n    // 只显示第一页的搜索结果\n    setFilteredHistory(filtered.slice(startIndex, endIndex));\n    setCurrentPage(0); // 重置到第一页\n    // 根据搜索结果更新总页数\n    const newTotalPages = Math.ceil(filtered.length / size) || 1;\n    setTotalPages(newTotalPages);\n    console.log(`搜索模式: 找到${filtered.length}条匹配，共${newTotalPages}页，显示第1页`);\n  }, [searchTerm, resumeHistory, currentPage]);\n  const fetchResumeHistory = async (page = 0) => {\n    try {\n      setLoading(true);\n      setError(null); // 清除之前的错误\n      console.log(`开始请求历史数据，页码: ${page}...`);\n\n      // 修改：获取所有数据，然后在前端分页\n      const response = await api.get('/resume/page', {\n        params: {\n          current: 1,\n          size: 1000 // 获取大量数据，实际上是尝试获取所有数据\n        },\n        timeout: 15000 // 设置15秒超时\n      });\n      console.log('收到响应:', response);\n      if (response.data && response.data.success) {\n        try {\n          const data = response.data.data || {};\n          const allRecords = data.records || [];\n          console.log('解析记录:', allRecords.length);\n\n          // 存储所有记录\n          setResumeHistory(allRecords);\n\n          // 计算分页数据\n          const total = allRecords.length;\n          const size = 10; // 前端固定每页10条\n          const totalPages = Math.ceil(total / size) || 1;\n\n          // 计算当前页的记录\n          const startIndex = page * size;\n          const endIndex = Math.min(startIndex + size, total);\n          const currentPageRecords = allRecords.slice(startIndex, endIndex);\n\n          // 设置当前页的记录\n          setFilteredHistory(currentPageRecords);\n\n          // 更新分页信息\n          setCurrentPage(page);\n          setTotalPages(totalPages);\n          setTotalRecords(total);\n          console.log(`设置分页数据: 当前页=${page}, 总页数=${totalPages}, 总记录数=${total}, 当前页记录数=${currentPageRecords.length}`);\n        } catch (parseError) {\n          console.error('解析API响应数据出错:', parseError);\n          setError('解析返回数据时出错，请刷新页面重试');\n          // 设置默认值以防止UI崩溃\n          setResumeHistory([]);\n          setFilteredHistory([]);\n          setCurrentPage(0);\n          setTotalPages(1);\n          setTotalRecords(0);\n        }\n      } else {\n        var _response$data;\n        console.error('API返回错误:', response.data);\n        setError(`获取历史记录失败: ${((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message) || '未知错误'}`);\n        // 设置默认值\n        setResumeHistory([]);\n        setFilteredHistory([]);\n        setCurrentPage(0);\n        setTotalPages(1);\n        setTotalRecords(0);\n      }\n    } catch (err) {\n      console.error('获取简历历史出错详情:', err.message, err.response || '无响应');\n      if (err.code === 'ECONNABORTED') {\n        setError('请求超时，请检查后端服务是否启动');\n      } else {\n        setError('无法连接到服务器，请稍后再试');\n      }\n      // 服务器错误时设置默认值\n      setResumeHistory([]);\n      setFilteredHistory([]);\n      setCurrentPage(0);\n      setTotalPages(1);\n      setTotalRecords(0);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const goToPage = page => {\n    if (page >= 0 && page < totalPages) {\n      console.log(`跳转到第${page + 1}页`);\n\n      // 如果有搜索条件，则在搜索结果中分页\n      if (searchTerm.trim()) {\n        // 先对所有数据进行搜索过滤\n        const filtered = resumeHistory.filter(resume => {\n          const descMatch = resume.modificationDescription && resume.modificationDescription.toLowerCase().includes(searchTerm.toLowerCase());\n          const origMatch = resume.originalContent && resume.originalContent.toLowerCase().includes(searchTerm.toLowerCase());\n          const modMatch = resume.modifiedContent && resume.modifiedContent.toLowerCase().includes(searchTerm.toLowerCase());\n          return descMatch || origMatch || modMatch;\n        });\n\n        // 然后在过滤结果中分页\n        const size = 10;\n        const startIndex = page * size;\n        const endIndex = Math.min(startIndex + size, filtered.length);\n        setFilteredHistory(filtered.slice(startIndex, endIndex));\n        setCurrentPage(page);\n        console.log(`搜索模式: 显示第${startIndex + 1}到第${endIndex}条结果，共${filtered.length}条匹配`);\n      } else {\n        // 在所有记录中分页\n        const size = 10;\n        const startIndex = page * size;\n        const endIndex = Math.min(startIndex + size, resumeHistory.length);\n        setFilteredHistory(resumeHistory.slice(startIndex, endIndex));\n        setCurrentPage(page);\n        console.log(`普通模式: 显示第${startIndex + 1}到第${endIndex}条记录，共${resumeHistory.length}条`);\n      }\n    }\n  };\n\n  // 查看详情\n  const viewResumeDetail = async id => {\n    try {\n      setLoading(true);\n      console.log(`开始请求ID为${id}的简历详情...`);\n      const response = await api.get(`/resume/${id}`);\n      console.log('收到详情响应:', response);\n      if (response.data && response.data.success) {\n        console.log('修改描述内容:', response.data.data.modificationDescription);\n\n        // 处理数据，注意防御性编程，确保所有属性都存在\n        const resumeData = {\n          ...response.data.data\n        };\n\n        // 确保所有属性都是可用的，防止undefined错误\n        resumeData.modificationDescription = resumeData.modificationDescription || '';\n        resumeData.originalContent = resumeData.originalContent || '';\n        resumeData.modifiedContent = resumeData.modifiedContent || '';\n        resumeData.updatedTime = resumeData.updatedTime || new Date().toISOString();\n\n        // 如果修改描述是\"简历优化\"默认值，则视为空\n        if (resumeData.modificationDescription === '简历优化') {\n          resumeData.modificationDescription = '';\n        }\n        setSelectedResume(resumeData);\n        console.log('设置选中的简历:', resumeData);\n      } else {\n        var _response$data2;\n        console.error('API返回详情错误:', response.data);\n        setError(`获取简历详情失败: ${((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message) || '未知错误'}`);\n      }\n    } catch (err) {\n      console.error('获取简历详情出错:', err.message, err.response || '无响应');\n      setError('无法获取简历详情，请稍后再试');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 返回列表\n  const backToList = () => {\n    setSelectedResume(null);\n    setError(null);\n  };\n\n  // 格式化日期\n  const formatDate = dateString => {\n    if (!dateString) return '无日期信息';\n    try {\n      const date = new Date(dateString);\n      // 检查日期是否有效\n      if (isNaN(date.getTime())) {\n        return '日期格式无效';\n      }\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\n    } catch (error) {\n      console.error('日期格式化错误:', error);\n      return '日期处理错误';\n    }\n  };\n\n  // 重试加载数据\n  const retryLoading = () => {\n    setError(null);\n    setLoading(true);\n    // 使用setTimeout确保状态更新后再重试\n    setTimeout(() => {\n      const fetchResumeHistory = async () => {\n        try {\n          console.log('重新尝试请求数据...');\n          const response = await api.get('/resume/page');\n          if (response.data && response.data.success) {\n            const records = response.data.data.records || [];\n            setResumeHistory(records);\n          } else {\n            var _response$data3;\n            setError(`获取历史记录失败: ${((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.message) || '未知错误'}`);\n          }\n        } catch (err) {\n          console.error('重试获取简历历史出错:', err);\n          setError('重试失败，无法连接到服务器');\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchResumeHistory();\n    }, 100);\n  };\n\n  // 获取截断的描述文本\n  const getTruncatedDescription = (text, maxLength = 50) => {\n    if (!text || text === '简历优化') return '无描述';\n    return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n  };\n\n  // 删除确认\n  const handleDeleteConfirm = (id, event) => {\n    event.stopPropagation(); // 阻止事件冒泡，避免触发点击整个条目的事件\n    setConfirmDelete(id);\n  };\n\n  // 取消删除\n  const handleDeleteCancel = event => {\n    if (event) event.stopPropagation();\n    setConfirmDelete(null);\n  };\n\n  // 执行删除\n  const handleDeleteResume = async (id, event) => {\n    if (event) event.stopPropagation();\n    try {\n      setIsDeleting(true);\n      console.log(`删除ID为${id}的简历记录...`);\n      const response = await api.delete(`/resume/${id}`);\n      if (response.data && response.data.success) {\n        // 从列表中移除已删除的记录\n        const updatedHistory = resumeHistory.filter(resume => resume.id !== id);\n        setResumeHistory(updatedHistory);\n        setFilteredHistory(prevFiltered => prevFiltered.filter(resume => resume.id !== id));\n        console.log('删除成功');\n      } else {\n        var _response$data4;\n        console.error('删除失败:', response.data);\n        setError(`删除失败: ${((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.message) || '未知错误'}`);\n      }\n    } catch (err) {\n      console.error('删除过程出错:', err);\n      setError('删除过程中发生错误，请稍后再试');\n    } finally {\n      setIsDeleting(false);\n      setConfirmDelete(null);\n    }\n  };\n\n  // 处理搜索输入\n  const handleSearchChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  // 清除搜索并重新加载当前页\n  const clearSearch = () => {\n    setSearchTerm('');\n    fetchResumeHistory(currentPage);\n  };\n\n  // 格式化简历内容，将纯文本转换为结构化的HTML\n  const formatResumeContent = content => {\n    if (!content) return null;\n\n    // 检测内容是否已经包含HTML标签\n    const hasHtml = /<[a-z][\\s\\S]*>/i.test(content);\n    if (hasHtml) {\n      // 如果已经是HTML，直接返回\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: content\n        },\n        style: {\n          textAlign: 'left'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 20\n      }, this);\n    }\n\n    // 将内容按行分割\n    const lines = content.split('\\n');\n\n    // 识别基本信息部分\n    let inSection = '';\n    const formattedLines = [];\n    lines.forEach((line, index) => {\n      line = line.trim();\n      if (!line) {\n        // 空行作为分隔符\n        formattedLines.push(/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-divider\"\n        }, `empty-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 37\n        }, this));\n        return;\n      }\n\n      // 检测是否是新的章节标题\n      if (line.includes('基本信息') || line.includes('教育背景') || line.includes('工作经验') || line.includes('项目经验') || line.includes('技能') || line.includes('主修课程')) {\n        inSection = line;\n        formattedLines.push(/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"resume-section-title\",\n          children: line\n        }, `section-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 37\n        }, this));\n        return;\n      }\n\n      // 检测是否是项目条目\n      if (/^\\d+\\.\\s+/.test(line)) {\n        formattedLines.push(/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"resume-project-title\",\n          children: line\n        }, `project-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 37\n        }, this));\n        return;\n      }\n\n      // 检测是否是项目描述（以'-'或'•'开头）\n      if (/^[-•]\\s+/.test(line)) {\n        formattedLines.push(/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resume-bullet-point\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bullet-symbol\",\n            children: \"\\u2022\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bullet-content\",\n            children: line.replace(/^[-•]\\s+/, '')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 25\n          }, this)]\n        }, `bullet-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }, this));\n        return;\n      }\n\n      // 尝试检测键值对（例如：姓名：张三）\n      const kvMatch = line.match(/^(.+?)[:：]\\s*(.+)$/);\n      if (kvMatch) {\n        formattedLines.push(/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resume-key-value\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"resume-key\",\n            children: [kvMatch[1], \"\\uFF1A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"resume-value\",\n            children: kvMatch[2]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 25\n          }, this)]\n        }, `kv-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 21\n        }, this));\n        return;\n      }\n\n      // 默认作为普通段落\n      formattedLines.push(/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"resume-paragraph\",\n        children: line\n      }, `text-${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 33\n      }, this));\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'left'\n      },\n      children: formattedLines\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 16\n    }, this);\n  };\n\n  // 使用try/catch包装渲染内容\n  try {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resume-history\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dialog-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dialog-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u7B80\\u5386\\u4FEE\\u6539\\u5386\\u53F2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 25\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading\",\n            children: \"\\u52A0\\u8F7D\\u4E2D...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 29\n          }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"retry-button\",\n              onClick: retryLoading,\n              children: \"\\u91CD\\u8BD5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 29\n          }, this) : selectedResume ?\n          /*#__PURE__*/\n          // 简历详情视图\n          _jsxDEV(\"div\", {\n            className: \"resume-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u4FEE\\u6539\\u8BE6\\u60C5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\u4FEE\\u6539\\u65F6\\u95F4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: formatDate(selectedResume.updatedTime || '')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\u4FEE\\u6539\\u63CF\\u8FF0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 37\n              }, this), selectedResume.modificationDescription ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"description-content\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: selectedResume.modificationDescription\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-description\",\n                children: \"\\u672A\\u63D0\\u4F9B\\u4FEE\\u6539\\u63CF\\u8FF0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\u7B80\\u5386\\u5206\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 37\n              }, this), selectedResume.resumeClassification ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"classification-content\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: selectedResume.resumeClassification\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-classification\",\n                children: \"\\u672A\\u63D0\\u4F9B\\u7B80\\u5386\\u5206\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\u5177\\u4F53\\u5206\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 37\n              }, this), selectedResume.modifiedResumeClassification ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"classification-content\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: selectedResume.modifiedResumeClassification\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-classification\",\n                children: \"\\u672A\\u63D0\\u4F9B\\u5177\\u4F53\\u5206\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resume-comparison\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comparison-column\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"comparison-header\",\n                  children: \"\\u539F\\u59CB\\u7B80\\u5386\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"resume-content-card\",\n                  children: selectedResume.originalContent ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"formatted-resume\",\n                    children: formatResumeContent(selectedResume.originalContent)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"empty-content\",\n                    children: \"\\u539F\\u59CB\\u7B80\\u5386\\u5185\\u5BB9\\u4E3A\\u7A7A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"arrow-divider\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"arrow\",\n                  children: \"\\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comparison-column\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"comparison-header\",\n                  children: \"\\u4FEE\\u6539\\u540E\\u7684\\u7B80\\u5386\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"resume-content-card\",\n                  children: selectedResume.modifiedContent ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"formatted-resume\",\n                    children: formatResumeContent(selectedResume.modifiedContent)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"empty-content\",\n                    children: \"\\u4FEE\\u6539\\u540E\\u5185\\u5BB9\\u4E3A\\u7A7A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-buttons\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"back-button\",\n                onClick: backToList,\n                children: \"\\u8FD4\\u56DE\\u5217\\u8868\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 29\n          }, this) : resumeHistory.length > 0 ?\n          /*#__PURE__*/\n          // 简历列表视图\n          _jsxDEV(\"div\", {\n            className: \"resume-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"dialog-description\",\n              children: \"\\u60A8\\u7684\\u7B80\\u5386\\u4FEE\\u6539\\u8BB0\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-records-info\",\n              children: [\"\\u603B\\u5171 \", totalRecords, \" \\u6761\\u8BB0\\u5F55\", searchTerm && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filtered-info\",\n                children: [\" (\\u7B5B\\u9009\\u51FA \", filteredHistory.length, \" \\u6761)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"search-input\",\n                placeholder: \"\\u641C\\u7D22\\u5386\\u53F2\\u8BB0\\u5F55...\",\n                value: searchTerm,\n                onChange: handleSearchChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 37\n              }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"search-clear-button\",\n                onClick: clearSearch,\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"history-list\",\n              children: [filteredHistory.length > 0 ? filteredHistory.map(resume => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"history-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"history-item-content\",\n                  onClick: () => viewResumeDetail(resume.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item-time\",\n                    children: formatDate(resume.createdTime)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item-description\",\n                    children: getTruncatedDescription(resume.modificationDescription)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item-arrow\",\n                    children: \"\\u27A1\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 559,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-actions\",\n                  children: confirmDelete === resume.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"confirm-delete\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\u786E\\u8BA4\\u5220\\u9664?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"confirm-yes\",\n                      onClick: e => handleDeleteResume(resume.id, e),\n                      disabled: isDeleting,\n                      children: isDeleting ? '删除中...' : '是'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"confirm-no\",\n                      onClick: handleDeleteCancel,\n                      children: \"\\u5426\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 57\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"delete-button\",\n                    onClick: e => handleDeleteConfirm(resume.id, e),\n                    title: \"\\u5220\\u9664\\u6B64\\u8BB0\\u5F55\",\n                    children: \"\\uD83D\\uDDD1\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 49\n                }, this)]\n              }, resume.id || Math.random(), true, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 45\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-results\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u6CA1\\u6709\\u627E\\u5230\\u5339\\u914D\\u7684\\u8BB0\\u5F55\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 45\n                }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"clear-search-button\",\n                  onClick: clearSearch,\n                  children: \"\\u6E05\\u9664\\u641C\\u7D22\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 41\n              }, this), filteredHistory.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pagination\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"pagination-button\",\n                  onClick: () => goToPage(currentPage - 1),\n                  disabled: currentPage === 0 || loading,\n                  children: \"\\u4E0A\\u4E00\\u9875\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"pagination-info\",\n                  children: [\"\\u7B2C\", currentPage + 1, \"\\u9875 / \\u5171\", totalPages > 0 ? totalPages : 1, \"\\u9875 (\\u6BCF\\u987510\\u6761)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"pagination-button\",\n                  onClick: () => goToPage(currentPage + 1),\n                  disabled: currentPage >= totalPages - 1 || loading,\n                  children: \"\\u4E0B\\u4E00\\u9875\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 41\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 29\n          }, this) :\n          /*#__PURE__*/\n          // 空状态\n          _jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"dialog-description\",\n              children: \"\\u60A8\\u8FD8\\u6CA1\\u6709\\u4E0A\\u4F20\\u8FC7\\u7B80\\u5386\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-state\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-icon\",\n                children: \"\\uD83D\\uDCC4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u4E0A\\u4F20\\u7B80\\u5386\\u540E\\u53EF\\u4EE5\\u5728\\u8FD9\\u91CC\\u67E5\\u770B\\u5386\\u53F2\\u8BB0\\u5F55\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-buttons\",\n            children: !selectedResume && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"back-button\",\n              onClick: onBack,\n              children: \"\\u8FD4\\u56DE\\u4E0A\\u4F20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 13\n    }, this);\n  } catch (error) {\n    console.error('渲染时发生错误:', error);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: \"\\u6E32\\u67D3\\u8FC7\\u7A0B\\u4E2D\\u53D1\\u751F\\u9519\\u8BEF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"retry-button\",\n        onClick: () => window.location.reload(),\n        children: \"\\u5237\\u65B0\\u9875\\u9762\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n// 主导出组件，使用ErrorBoundary包装内容组件\n_s(ResumeReviewHistoryContent, \"NWpCV+HrkltKrnnPyY9Nqygepwg=\");\n_c = ResumeReviewHistoryContent;\nfunction ResumeReviewHistory(props) {\n  return /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n    children: /*#__PURE__*/_jsxDEV(ResumeReviewHistoryContent, {\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 661,\n    columnNumber: 9\n  }, this);\n}\n_c2 = ResumeReviewHistory;\nexport default ResumeReviewHistory;\nvar _c, _c2;\n$RefreshReg$(_c, \"ResumeReviewHistoryContent\");\n$RefreshReg$(_c2, \"ResumeReviewHistory\");","map":{"version":3,"names":["React","useState","useEffect","axios","ErrorBoundary","jsxDEV","_jsxDEV","api","create","baseURL","timeout","headers","maxContentLength","Infinity","maxBodyLength","ResumeReviewHistoryContent","onBack","_s","loading","setLoading","resumeHistory","setResumeHistory","filteredHistory","setFilteredHistory","selectedResume","setSelectedResume","error","setError","searchTerm","setSearchTerm","isDeleting","setIsDeleting","confirmDelete","setConfirmDelete","currentPage","setCurrentPage","totalPages","setTotalPages","totalRecords","setTotalRecords","handleError","event","console","window","addEventListener","removeEventListener","fetchResumeHistory","trim","size","startIndex","endIndex","Math","min","length","slice","filtered","filter","resume","descMatch","modificationDescription","toLowerCase","includes","origMatch","originalContent","modMatch","modifiedContent","newTotalPages","ceil","log","page","response","get","params","current","data","success","allRecords","records","total","currentPageRecords","parseError","_response$data","message","err","code","goToPage","viewResumeDetail","id","resumeData","updatedTime","Date","toISOString","_response$data2","backToList","formatDate","dateString","date","isNaN","getTime","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","retryLoading","setTimeout","_response$data3","getTruncatedDescription","text","maxLength","substring","handleDeleteConfirm","stopPropagation","handleDeleteCancel","handleDeleteResume","delete","updatedHistory","prevFiltered","_response$data4","handleSearchChange","e","target","value","clearSearch","formatResumeContent","content","hasHtml","test","dangerouslySetInnerHTML","__html","style","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","lines","split","inSection","formattedLines","forEach","line","index","push","className","children","replace","kvMatch","match","onClick","resumeClassification","modifiedResumeClassification","type","placeholder","onChange","map","createdTime","disabled","title","random","location","reload","_c","ResumeReviewHistory","props","_c2","$RefreshReg$"],"sources":["/home/m/resume_revision/frontend/src/components/ResumeReviewHistory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './ResumeReviewHistory.css';\nimport axios from 'axios';\nimport ErrorBoundary from '../ErrorBoundary';\n\n// 创建支持大数据的axios实例\nconst api = axios.create({\n    baseURL: 'http://localhost:8080/api',\n    timeout: 30000, // 增加超时时间到30秒\n    headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n    },\n    maxContentLength: Infinity, // 允许无限大小的内容\n    maxBodyLength: Infinity // 允许无限大小的请求体\n});\n\nfunction ResumeReviewHistoryContent({ onBack }) {\n    const [loading, setLoading] = useState(true);\n    const [resumeHistory, setResumeHistory] = useState([]);\n    const [filteredHistory, setFilteredHistory] = useState([]);\n    const [selectedResume, setSelectedResume] = useState(null);\n    const [error, setError] = useState(null);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [confirmDelete, setConfirmDelete] = useState(null); // 存储要删除的ID\n    const [currentPage, setCurrentPage] = useState(0); // 添加当前页码状态\n    const [totalPages, setTotalPages] = useState(1); // 添加总页数状态\n    const [totalRecords, setTotalRecords] = useState(0); // 添加总记录数状态\n\n    // 全局错误处理\n    useEffect(() => {\n        const handleError = (event) => {\n            console.error('全局错误捕获:', event.error);\n            setError('应用发生错误，请刷新页面重试');\n        };\n\n        window.addEventListener('error', handleError);\n        \n        return () => {\n            window.removeEventListener('error', handleError);\n        };\n    }, []);\n\n    // 获取简历修改历史\n    useEffect(() => {\n        try {\n            fetchResumeHistory();\n        } catch (error) {\n            console.error('获取历史记录失败:', error);\n            setError('无法加载历史记录，请检查后端服务是否正常运行');\n            setLoading(false);\n        }\n    }, []);\n\n    // 筛选历史记录\n    useEffect(() => {\n        // 没有搜索词时，显示当前页的所有记录\n        if (!searchTerm.trim()) {\n            const size = 10;\n            const startIndex = currentPage * size;\n            const endIndex = Math.min(startIndex + size, resumeHistory.length);\n            setFilteredHistory(resumeHistory.slice(startIndex, endIndex));\n            return;\n        }\n        \n        // 有搜索词时，在所有记录中搜索，并显示第一页搜索结果\n        const filtered = resumeHistory.filter(resume => {\n            const descMatch = resume.modificationDescription && \n                            resume.modificationDescription.toLowerCase().includes(searchTerm.toLowerCase());\n            const origMatch = resume.originalContent && \n                            resume.originalContent.toLowerCase().includes(searchTerm.toLowerCase());\n            const modMatch = resume.modifiedContent && \n                            resume.modifiedContent.toLowerCase().includes(searchTerm.toLowerCase());\n            return descMatch || origMatch || modMatch;\n        });\n        \n        // 在搜索结果中显示第一页\n        const size = 10;\n        const startIndex = 0; // 搜索时始终显示第一页\n        const endIndex = Math.min(startIndex + size, filtered.length);\n        \n        // 只显示第一页的搜索结果\n        setFilteredHistory(filtered.slice(startIndex, endIndex));\n        setCurrentPage(0); // 重置到第一页\n        // 根据搜索结果更新总页数\n        const newTotalPages = Math.ceil(filtered.length / size) || 1;\n        setTotalPages(newTotalPages);\n        \n        console.log(`搜索模式: 找到${filtered.length}条匹配，共${newTotalPages}页，显示第1页`);\n    }, [searchTerm, resumeHistory, currentPage]);\n\n    const fetchResumeHistory = async (page = 0) => {\n        try {\n            setLoading(true);\n            setError(null); // 清除之前的错误\n            console.log(`开始请求历史数据，页码: ${page}...`);\n            \n            // 修改：获取所有数据，然后在前端分页\n            const response = await api.get('/resume/page', {\n                params: {\n                    current: 1,\n                    size: 1000  // 获取大量数据，实际上是尝试获取所有数据\n                },\n                timeout: 15000 // 设置15秒超时\n            });\n            \n            console.log('收到响应:', response);\n            if (response.data && response.data.success) {\n                try {\n                    const data = response.data.data || {};\n                    const allRecords = data.records || [];\n                    console.log('解析记录:', allRecords.length);\n                    \n                    // 存储所有记录\n                    setResumeHistory(allRecords);\n                    \n                    // 计算分页数据\n                    const total = allRecords.length;\n                    const size = 10; // 前端固定每页10条\n                    const totalPages = Math.ceil(total / size) || 1;\n                    \n                    // 计算当前页的记录\n                    const startIndex = page * size;\n                    const endIndex = Math.min(startIndex + size, total);\n                    const currentPageRecords = allRecords.slice(startIndex, endIndex);\n                    \n                    // 设置当前页的记录\n                    setFilteredHistory(currentPageRecords);\n                    \n                    // 更新分页信息\n                    setCurrentPage(page);\n                    setTotalPages(totalPages);\n                    setTotalRecords(total);\n                    \n                    console.log(`设置分页数据: 当前页=${page}, 总页数=${totalPages}, 总记录数=${total}, 当前页记录数=${currentPageRecords.length}`);\n                } catch (parseError) {\n                    console.error('解析API响应数据出错:', parseError);\n                    setError('解析返回数据时出错，请刷新页面重试');\n                    // 设置默认值以防止UI崩溃\n                    setResumeHistory([]);\n                    setFilteredHistory([]);\n                    setCurrentPage(0);\n                    setTotalPages(1);\n                    setTotalRecords(0);\n                }\n            } else {\n                console.error('API返回错误:', response.data);\n                setError(`获取历史记录失败: ${response.data?.message || '未知错误'}`);\n                // 设置默认值\n                setResumeHistory([]);\n                setFilteredHistory([]);\n                setCurrentPage(0);\n                setTotalPages(1);\n                setTotalRecords(0);\n            }\n        } catch (err) {\n            console.error('获取简历历史出错详情:', err.message, err.response || '无响应');\n            if (err.code === 'ECONNABORTED') {\n                setError('请求超时，请检查后端服务是否启动');\n            } else {\n                setError('无法连接到服务器，请稍后再试');\n            }\n            // 服务器错误时设置默认值\n            setResumeHistory([]);\n            setFilteredHistory([]);\n            setCurrentPage(0);\n            setTotalPages(1);\n            setTotalRecords(0);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const goToPage = (page) => {\n        if (page >= 0 && page < totalPages) {\n            console.log(`跳转到第${page+1}页`);\n            \n            // 如果有搜索条件，则在搜索结果中分页\n            if (searchTerm.trim()) {\n                // 先对所有数据进行搜索过滤\n                const filtered = resumeHistory.filter(resume => {\n                    const descMatch = resume.modificationDescription && \n                                    resume.modificationDescription.toLowerCase().includes(searchTerm.toLowerCase());\n                    const origMatch = resume.originalContent && \n                                    resume.originalContent.toLowerCase().includes(searchTerm.toLowerCase());\n                    const modMatch = resume.modifiedContent && \n                                    resume.modifiedContent.toLowerCase().includes(searchTerm.toLowerCase());\n                    return descMatch || origMatch || modMatch;\n                });\n                \n                // 然后在过滤结果中分页\n                const size = 10;\n                const startIndex = page * size;\n                const endIndex = Math.min(startIndex + size, filtered.length);\n                setFilteredHistory(filtered.slice(startIndex, endIndex));\n                setCurrentPage(page);\n                console.log(`搜索模式: 显示第${startIndex+1}到第${endIndex}条结果，共${filtered.length}条匹配`);\n            } else {\n                // 在所有记录中分页\n                const size = 10;\n                const startIndex = page * size;\n                const endIndex = Math.min(startIndex + size, resumeHistory.length);\n                setFilteredHistory(resumeHistory.slice(startIndex, endIndex));\n                setCurrentPage(page);\n                console.log(`普通模式: 显示第${startIndex+1}到第${endIndex}条记录，共${resumeHistory.length}条`);\n            }\n        }\n    }\n\n    // 查看详情\n    const viewResumeDetail = async (id) => {\n        try {\n            setLoading(true);\n            console.log(`开始请求ID为${id}的简历详情...`);\n            const response = await api.get(`/resume/${id}`);\n            console.log('收到详情响应:', response);\n            if (response.data && response.data.success) {\n                console.log('修改描述内容:', response.data.data.modificationDescription);\n                \n                // 处理数据，注意防御性编程，确保所有属性都存在\n                const resumeData = {...response.data.data};\n                \n                // 确保所有属性都是可用的，防止undefined错误\n                resumeData.modificationDescription = resumeData.modificationDescription || '';\n                resumeData.originalContent = resumeData.originalContent || '';\n                resumeData.modifiedContent = resumeData.modifiedContent || '';\n                resumeData.updatedTime = resumeData.updatedTime || new Date().toISOString();\n                \n                // 如果修改描述是\"简历优化\"默认值，则视为空\n                if (resumeData.modificationDescription === '简历优化') {\n                    resumeData.modificationDescription = '';\n                }\n                \n                setSelectedResume(resumeData);\n                console.log('设置选中的简历:', resumeData);\n            } else {\n                console.error('API返回详情错误:', response.data);\n                setError(`获取简历详情失败: ${response.data?.message || '未知错误'}`);\n            }\n        } catch (err) {\n            console.error('获取简历详情出错:', err.message, err.response || '无响应');\n            setError('无法获取简历详情，请稍后再试');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // 返回列表\n    const backToList = () => {\n        setSelectedResume(null);\n        setError(null);\n    };\n\n    // 格式化日期\n    const formatDate = (dateString) => {\n        if (!dateString) return '无日期信息';\n        try {\n            const date = new Date(dateString);\n            // 检查日期是否有效\n            if (isNaN(date.getTime())) {\n                return '日期格式无效';\n            }\n            return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\n        } catch (error) {\n            console.error('日期格式化错误:', error);\n            return '日期处理错误';\n        }\n    };\n\n    // 重试加载数据\n    const retryLoading = () => {\n        setError(null);\n        setLoading(true);\n        // 使用setTimeout确保状态更新后再重试\n        setTimeout(() => {\n            const fetchResumeHistory = async () => {\n                try {\n                    console.log('重新尝试请求数据...');\n                    const response = await api.get('/resume/page');\n                    if (response.data && response.data.success) {\n                        const records = response.data.data.records || [];\n                        setResumeHistory(records);\n                    } else {\n                        setError(`获取历史记录失败: ${response.data?.message || '未知错误'}`);\n                    }\n                } catch (err) {\n                    console.error('重试获取简历历史出错:', err);\n                    setError('重试失败，无法连接到服务器');\n                } finally {\n                    setLoading(false);\n                }\n            };\n            fetchResumeHistory();\n        }, 100);\n    };\n\n    // 获取截断的描述文本\n    const getTruncatedDescription = (text, maxLength = 50) => {\n        if (!text || text === '简历优化') return '无描述';\n        return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n    };\n\n    // 删除确认\n    const handleDeleteConfirm = (id, event) => {\n        event.stopPropagation(); // 阻止事件冒泡，避免触发点击整个条目的事件\n        setConfirmDelete(id);\n    };\n\n    // 取消删除\n    const handleDeleteCancel = (event) => {\n        if (event) event.stopPropagation();\n        setConfirmDelete(null);\n    };\n\n    // 执行删除\n    const handleDeleteResume = async (id, event) => {\n        if (event) event.stopPropagation();\n        try {\n            setIsDeleting(true);\n            console.log(`删除ID为${id}的简历记录...`);\n            const response = await api.delete(`/resume/${id}`);\n            \n            if (response.data && response.data.success) {\n                // 从列表中移除已删除的记录\n                const updatedHistory = resumeHistory.filter(resume => resume.id !== id);\n                setResumeHistory(updatedHistory);\n                setFilteredHistory(prevFiltered => prevFiltered.filter(resume => resume.id !== id));\n                console.log('删除成功');\n            } else {\n                console.error('删除失败:', response.data);\n                setError(`删除失败: ${response.data?.message || '未知错误'}`);\n            }\n        } catch (err) {\n            console.error('删除过程出错:', err);\n            setError('删除过程中发生错误，请稍后再试');\n        } finally {\n            setIsDeleting(false);\n            setConfirmDelete(null);\n        }\n    };\n\n    // 处理搜索输入\n    const handleSearchChange = (e) => {\n        setSearchTerm(e.target.value);\n    };\n\n    // 清除搜索并重新加载当前页\n    const clearSearch = () => {\n        setSearchTerm('');\n        fetchResumeHistory(currentPage);\n    };\n\n    // 格式化简历内容，将纯文本转换为结构化的HTML\n    const formatResumeContent = (content) => {\n        if (!content) return null;\n        \n        // 检测内容是否已经包含HTML标签\n        const hasHtml = /<[a-z][\\s\\S]*>/i.test(content);\n        if (hasHtml) {\n            // 如果已经是HTML，直接返回\n            return <div dangerouslySetInnerHTML={{ __html: content }} style={{ textAlign: 'left' }} />;\n        }\n        \n        // 将内容按行分割\n        const lines = content.split('\\n');\n        \n        // 识别基本信息部分\n        let inSection = '';\n        const formattedLines = [];\n        \n        lines.forEach((line, index) => {\n            line = line.trim();\n            if (!line) {\n                // 空行作为分隔符\n                formattedLines.push(<div key={`empty-${index}`} className=\"section-divider\"></div>);\n                return;\n            }\n            \n            // 检测是否是新的章节标题\n            if (line.includes('基本信息') || line.includes('教育背景') || line.includes('工作经验') || \n                line.includes('项目经验') || line.includes('技能') || line.includes('主修课程')) {\n                inSection = line;\n                formattedLines.push(<h3 key={`section-${index}`} className=\"resume-section-title\">{line}</h3>);\n                return;\n            }\n            \n            // 检测是否是项目条目\n            if (/^\\d+\\.\\s+/.test(line)) {\n                formattedLines.push(<h4 key={`project-${index}`} className=\"resume-project-title\">{line}</h4>);\n                return;\n            }\n            \n            // 检测是否是项目描述（以'-'或'•'开头）\n            if (/^[-•]\\s+/.test(line)) {\n                formattedLines.push(\n                    <div key={`bullet-${index}`} className=\"resume-bullet-point\">\n                        <span className=\"bullet-symbol\">•</span>\n                        <span className=\"bullet-content\">{line.replace(/^[-•]\\s+/, '')}</span>\n                    </div>\n                );\n                return;\n            }\n            \n            // 尝试检测键值对（例如：姓名：张三）\n            const kvMatch = line.match(/^(.+?)[:：]\\s*(.+)$/);\n            if (kvMatch) {\n                formattedLines.push(\n                    <div key={`kv-${index}`} className=\"resume-key-value\">\n                        <span className=\"resume-key\">{kvMatch[1]}：</span>\n                        <span className=\"resume-value\">{kvMatch[2]}</span>\n                    </div>\n                );\n                return;\n            }\n            \n            // 默认作为普通段落\n            formattedLines.push(<p key={`text-${index}`} className=\"resume-paragraph\">{line}</p>);\n        });\n        \n        return <div style={{ textAlign: 'left' }}>{formattedLines}</div>;\n    };\n\n    // 使用try/catch包装渲染内容\n    try {\n        return (\n            <div className=\"resume-history\">\n                <div className=\"dialog-container\">\n                    <div className=\"dialog-box\">\n                        <h2>简历修改历史</h2>\n                        \n                        {loading ? (\n                            <div className=\"loading\">加载中...</div>\n                        ) : error ? (\n                            <div className=\"error-container\">\n                                <div className=\"error-message\">{error}</div>\n                                <button className=\"retry-button\" onClick={retryLoading}>重试</button>\n                            </div>\n                        ) : selectedResume ? (\n                            // 简历详情视图\n                            <div className=\"resume-detail\">\n                                <h3>修改详情</h3>\n                                <div className=\"detail-section\">\n                                    <h4>修改时间</h4>\n                                    <p>{formatDate(selectedResume.updatedTime || '')}</p>\n                                </div>\n                                <div className=\"detail-section\">\n                                    <h4>修改描述</h4>\n                                    {selectedResume.modificationDescription ? (\n                                        <div className=\"description-content\">\n                                            <p>{selectedResume.modificationDescription}</p>\n                                        </div>\n                                    ) : (\n                                        <div className=\"empty-description\">未提供修改描述</div>\n                                    )}\n                                </div>\n                                \n                                {/* 添加简历分类对话框 */}\n                                <div className=\"detail-section\">\n                                    <h4>简历分类</h4>\n                                    {selectedResume.resumeClassification ? (\n                                        <div className=\"classification-content\">\n                                            <p>{selectedResume.resumeClassification}</p>\n                                        </div>\n                                    ) : (\n                                        <div className=\"empty-classification\">未提供简历分类</div>\n                                    )}\n                                </div>\n                                \n                                {/* 添加具体简历分类对话框 */}\n                                <div className=\"detail-section\">\n                                    <h4>具体分类</h4>\n                                    {selectedResume.modifiedResumeClassification ? (\n                                        <div className=\"classification-content\">\n                                            <p>{selectedResume.modifiedResumeClassification}</p>\n                                        </div>\n                                    ) : (\n                                        <div className=\"empty-classification\">未提供具体分类</div>\n                                    )}\n                                </div>\n                                \n                                <div className=\"resume-comparison\">\n                                    <div className=\"comparison-column\">\n                                        <div className=\"comparison-header\">原始简历</div>\n                                        <div className=\"resume-content-card\">\n                                            {selectedResume.originalContent ? (\n                                                <div className=\"formatted-resume\">\n                                                    {formatResumeContent(selectedResume.originalContent)}\n                                                </div>\n                                            ) : (\n                                                <div className=\"empty-content\">原始简历内容为空</div>\n                                            )}\n                                        </div>\n                                    </div>\n                                    \n                                    <div className=\"arrow-divider\">\n                                        <div className=\"arrow\">→</div>\n                                    </div>\n                                    \n                                    <div className=\"comparison-column\">\n                                        <div className=\"comparison-header\">修改后的简历</div>\n                                        <div className=\"resume-content-card\">\n                                            {selectedResume.modifiedContent ? (\n                                                <div className=\"formatted-resume\">\n                                                    {formatResumeContent(selectedResume.modifiedContent)}\n                                                </div>\n                                            ) : (\n                                                <div className=\"empty-content\">修改后内容为空</div>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                                \n                                <div className=\"action-buttons\">\n                                    <button className=\"back-button\" onClick={backToList}>返回列表</button>\n                                </div>\n                            </div>\n                        ) : resumeHistory.length > 0 ? (\n                            // 简历列表视图\n                            <div className=\"resume-list\">\n                                <p className=\"dialog-description\">您的简历修改记录</p>\n                                \n                                {/* 添加总记录条数显示 */}\n                                <div className=\"total-records-info\">\n                                    总共 {totalRecords} 条记录\n                                    {searchTerm && (\n                                        <span className=\"filtered-info\"> (筛选出 {filteredHistory.length} 条)</span>\n                                    )}\n                                </div>\n                                \n                                {/* 搜索框 */}\n                                <div className=\"search-container\">\n                                    <input \n                                        type=\"text\" \n                                        className=\"search-input\"\n                                        placeholder=\"搜索历史记录...\"\n                                        value={searchTerm}\n                                        onChange={handleSearchChange}\n                                    />\n                                    {searchTerm && (\n                                        <button \n                                            className=\"search-clear-button\"\n                                            onClick={clearSearch}\n                                        >\n                                            ✕\n                                        </button>\n                                    )}\n                                </div>\n                                \n                                <div className=\"history-list\">\n                                    {filteredHistory.length > 0 ? (\n                                        filteredHistory.map(resume => (\n                                            <div key={resume.id || Math.random()} className=\"history-item\">\n                                                <div className=\"history-item-content\" onClick={() => viewResumeDetail(resume.id)}>\n                                                    <div className=\"item-time\">{formatDate(resume.createdTime)}</div>\n                                                    <div className=\"item-description\">\n                                                        {getTruncatedDescription(resume.modificationDescription)}\n                                                    </div>\n                                                    <div className=\"item-arrow\">➡️</div>\n                                                </div>\n                                                \n                                                {/* 删除按钮 */}\n                                                <div className=\"item-actions\">\n                                                    {confirmDelete === resume.id ? (\n                                                        <div className=\"confirm-delete\">\n                                                            <span>确认删除?</span>\n                                                            <button \n                                                                className=\"confirm-yes\"\n                                                                onClick={(e) => handleDeleteResume(resume.id, e)}\n                                                                disabled={isDeleting}\n                                                            >\n                                                                {isDeleting ? '删除中...' : '是'}\n                                                            </button>\n                                                            <button \n                                                                className=\"confirm-no\"\n                                                                onClick={handleDeleteCancel}\n                                                            >\n                                                                否\n                                                            </button>\n                                                        </div>\n                                                    ) : (\n                                                        <button \n                                                            className=\"delete-button\" \n                                                            onClick={(e) => handleDeleteConfirm(resume.id, e)}\n                                                            title=\"删除此记录\"\n                                                        >\n                                                            🗑️\n                                                        </button>\n                                                    )}\n                                                </div>\n                                            </div>\n                                        ))\n                                    ) : (\n                                        <div className=\"no-results\">\n                                            <p>没有找到匹配的记录</p>\n                                            {searchTerm && (\n                                                <button \n                                                    className=\"clear-search-button\"\n                                                    onClick={clearSearch}\n                                                >\n                                                    清除搜索\n                                                </button>\n                                            )}\n                                        </div>\n                                    )}\n                                    {filteredHistory.length > 0 ? (\n                                        <div className=\"pagination\">\n                                            <button \n                                                className=\"pagination-button\"\n                                                onClick={() => goToPage(currentPage - 1)}\n                                                disabled={currentPage === 0 || loading}\n                                            >\n                                                上一页\n                                            </button>\n                                            <span className=\"pagination-info\">\n                                                第{currentPage + 1}页 / 共{totalPages > 0 ? totalPages : 1}页 (每页10条)\n                                            </span>\n                                            <button \n                                                className=\"pagination-button\"\n                                                onClick={() => goToPage(currentPage + 1)}\n                                                disabled={currentPage >= totalPages - 1 || loading}\n                                            >\n                                                下一页\n                                            </button>\n                                        </div>\n                                    ) : null}\n                                </div>\n                            </div>\n                        ) : (\n                            // 空状态\n                            <div>\n                                <p className=\"dialog-description\">您还没有上传过简历</p>\n                                <div className=\"empty-state\">\n                                    <div className=\"empty-icon\">📄</div>\n                                    <p>上传简历后可以在这里查看历史记录</p>\n                                </div>\n                            </div>\n                        )}\n                        \n                        <div className=\"action-buttons\">\n                            {!selectedResume && <button className=\"back-button\" onClick={onBack}>返回上传</button>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    } catch (error) {\n        console.error('渲染时发生错误:', error);\n        return (\n            <div className=\"error-container\">\n                <div className=\"error-message\">渲染过程中发生错误</div>\n                <button className=\"retry-button\" onClick={() => window.location.reload()}>刷新页面</button>\n            </div>\n        );\n    }\n}\n\n// 主导出组件，使用ErrorBoundary包装内容组件\nfunction ResumeReviewHistory(props) {\n    return (\n        <ErrorBoundary>\n            <ResumeReviewHistoryContent {...props} />\n        </ErrorBoundary>\n    );\n}\n\nexport default ResumeReviewHistory; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}